# üìÆ –ü—ñ–¥–±—ñ—Ä –ü–æ—à—Ç–æ–≤–∏—Ö –Ü–Ω–¥–µ–∫—Å—ñ–≤ v2.0

–î–µ—Å–∫—Ç–æ–ø–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –ø—ñ–¥–±–æ—Ä—É —Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ—à—Ç–æ–≤–∏—Ö —ñ–Ω–¥–µ–∫—Å—ñ–≤ –¥–ª—è –∞–¥—Ä–µ—Å –≤ –£–∫—Ä–∞—ó–Ω—ñ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö magistral –≤—ñ–¥ –£–∫—Ä–ø–æ—à—Ç–∏.

![Python](https://img.shields.io/badge/python-3.8+-blue.svg)
![PyQt5](https://img.shields.io/badge/PyQt5-5.15-green.svg)
![License](https://img.shields.io/badge/license-MIT-blue.svg)

---

## üöÄ –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- ‚úÖ **–ì—ñ–±—Ä–∏–¥–Ω–∏–π –ø–æ—à—É–∫** - –∫–æ–º–±—ñ–Ω—É—î Jaro-Winkler similarity —Ç–∞ –≤–∞–≥–æ–≤—É —Å–∏—Å—Ç–µ–º—É –æ—Ü—ñ–Ω–∫–∏
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–µ–∂–∏–º** - –º–∞—Å–æ–≤–∞ –æ–±—Ä–æ–±–∫–∞ –∑ –∑–∞–¥–∞–Ω–∏–º –ø–æ—Ä–æ–≥–æ–º —Ç–æ—á–Ω–æ—Å—Ç—ñ (90%+)
- ‚úÖ **–ù–∞–ø—ñ–≤–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–µ–∂–∏–º** - –æ–±—Ä–æ–±–∫–∞ –∑ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è –Ω–∏–∑—å–∫–æ—ó —Ç–æ—á–Ω–æ—Å—Ç—ñ
- ‚úÖ **–†—É—á–Ω–∏–π —Ä–µ–∂–∏–º** - –ø—ñ–¥–±—ñ—Ä —ñ–Ω–¥–µ–∫—Å—É –∑ —Ä–æ–∑—É–º–Ω–∏–º –∞–≤—Ç–æ–∫–æ–º–ø–ª—ñ—Ç–æ–º –º—ñ—Å—Ç —ñ –≤—É–ª–∏—Ü—å
- ‚úÖ **–Ü–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–∏–π –ø–æ—à—É–∫ –±—É–¥–∏–Ω–∫—ñ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø—ñ–¥–±—ñ—Ä —ñ–Ω–¥–µ–∫—Å—É –ø–æ –Ω–æ–º–µ—Ä—É –±—É–¥–∏–Ω–∫—É
- ‚úÖ **–ö–æ–ª—å–æ—Ä–æ–≤–µ –º–∞—Ä–∫—É–≤–∞–Ω–Ω—è** - –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–æ—á–Ω–æ—Å—Ç—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ (90-100% –∑–µ–ª–µ–Ω–∏–π, 70-79% –ø–æ–º–∞—Ä–∞–Ω—á–µ–≤–∏–π)
- ‚úÖ **–Ü—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω** - –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ "–°—Ç–∞—Ä–∏–π —ñ–Ω–¥–µ–∫—Å" –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è
- ‚úÖ **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ö–µ–º** - —à–≤–∏–¥–∫–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ —Å—Ç–æ–≤–ø—Ü—ñ–≤ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤
- ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è** - —ñ—Å—Ç–æ—Ä—ñ—è –≤—Å—ñ—Ö –ø–æ—à—É–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ —É —Ñ–æ—Ä–º–∞—Ç—ñ JSONL

---

## üìã –í–∏–º–æ–≥–∏

- **Python 3.8+**
- PyQt5 5.15+
- pandas 2.1+
- openpyxl 3.1+
- jellyfish 1.0+ (–¥–ª—è Jaro-Winkler similarity)

---

## üõ† –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### 1. –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π

git clone https://github.com/yourusername/postal-index-matcher.git
cd postal-index-matcher

text

### 2. –°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ

python -m venv venv

Linux/Mac
source venv/bin/activate

Windows
venv\Scripts\activate

text

### 3. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

pip install -r requirements.txt

text

### 4. –î–æ–¥–∞–π—Ç–µ magistral.csv

‚ö†Ô∏è **–í–∞–∂–ª–∏–≤–æ:** –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—É –±–∞–∑—É magistral –≤—ñ–¥ –£–∫—Ä–ø–æ—à—Ç–∏ —Ç–∞ –ø–æ–º—ñ—Å—Ç—ñ—Ç—å –≤ –ø–∞–ø–∫—É `data/`:

data/magistral.csv

text

–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª—É: CSV –∑ —Ä–æ–∑–¥—ñ–ª—å–Ω–∏–∫–æ–º `;` —Ç–∞ –∫–æ–¥—É–≤–∞–Ω–Ω—è–º `cp1251`

---

## üéØ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–∏

python main.py

text

### –†–æ–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å

#### 1Ô∏è‚É£ **–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—É Excel**
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É **"–í—ñ–¥–∫—Ä–∏—Ç–∏ —Ñ–∞–π–ª"**
   - –û–±–µ—Ä—ñ—Ç—å Excel —Ñ–∞–π–ª –∑ –∞–¥—Ä–µ—Å–∞–º–∏ (–ø—ñ–¥—Ç—Ä–∏–º–∫–∞ `.xlsx`, `.xls`)
   - –ü—Ä–æ–≥—Ä–∞–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å –¥–∞–Ω—ñ —Ç–∞ —Å—Ç–≤–æ—Ä–∏—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω—É –∫–æ–ª–æ–Ω–∫—É "–°—Ç–∞—Ä–∏–π —ñ–Ω–¥–µ–∫—Å"

#### 2Ô∏è‚É£ **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å—Ç–æ–≤–ø—Ü—ñ–≤**
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"‚öô –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Å—Ç–æ–≤–ø—Ü—ñ"**
   - –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –º—ñ–∂ —Å—Ç–æ–≤–ø—Ü—è–º–∏ –≤–∞—à–æ–≥–æ Excel —ñ –ø–æ–ª—è–º–∏ –∞–¥—Ä–µ—Å–∏:
     - ID –∫–ª—ñ—î–Ω—Ç–∞
     - –ü–Ü–ë / –ù–∞–∑–≤–∞
     - –û–±–ª–∞—Å—Ç—å
     - –†–∞–π–æ–Ω
     - –ù–∞—Å–µ–ª–µ–Ω–∏–π –ø—É–Ω–∫—Ç
     - –í—É–ª–∏—Ü—è
     - –ë—É–¥–∏–Ω–æ–∫
     - –Ü–Ω–¥–µ–∫—Å
   - –ó–±–µ—Ä–µ–∂—ñ—Ç—å —Å—Ö–µ–º—É –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
   - –ú–æ–∂–Ω–∞ –≤–∏–±—Ä–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ —Å—Ç–æ–≤–ø—Ü—ñ–≤ (–≤–æ–Ω–∏ –æ–±'—î–¥–Ω–∞—é—Ç—å—Å—è —á–µ—Ä–µ–∑ –∫–æ–º—É)

#### 3Ô∏è‚É£ **–†–µ–∂–∏–º–∏ –æ–±—Ä–æ–±–∫–∏**

**üî• –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–µ–∂–∏–º:**
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"‚ö° –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞"**
   - –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –ø–æ—Ä—ñ–≥ —Ç–æ—á–Ω–æ—Å—Ç—ñ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ 90%)
   - –ü—Ä–æ–≥—Ä–∞–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞—Å—Ç–æ—Å—É—î —ñ–Ω–¥–µ–∫—Å–∏ –∑ —Ç–æ—á–Ω—ñ—Å—Ç—é –≤–∏—â–µ –ø–æ—Ä–æ–≥—É
   - –û–±—Ä–æ–±–ª–µ–Ω—ñ —Ä—è–¥–∫–∏ —Å—Ç–∞–Ω—É—Ç—å –∑–µ–ª–µ–Ω–∏–º–∏

**üîÑ –ù–∞–ø—ñ–≤–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–µ–∂–∏–º:**
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"üîÑ –ù–∞–ø—ñ–≤-–∞–≤—Ç–æ"**
   - –ü—Ä–æ–≥—Ä–∞–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±—Ä–æ–±–ª—è—î –∑–∞–ø–∏—Å–∏ –∑ –≤–∏—Å–æ–∫–æ—é —Ç–æ—á–Ω—ñ—Å—Ç—é
   - –ó—É–ø–∏–Ω—è—î—Ç—å—Å—è –Ω–∞ –∑–∞–ø–∏—Å–∞—Ö –∑ —Ç–æ—á–Ω—ñ—Å—Ç—é –Ω–∏–∂—á–µ –ø–æ—Ä–æ–≥—É
   - –û–±–µ—Ä—ñ—Ç—å –ø–æ—Ç—Ä—ñ–±–Ω–∏–π —ñ–Ω–¥–µ–∫—Å –∞–±–æ –≤–∏–ø—Ä–∞–≤—Ç–µ –∞–¥—Ä–µ—Å—É –≤—Ä—É—á–Ω—É
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Enter** –¥–ª—è –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è —Ç–∞ –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è

**üîç –†—É—á–Ω–∏–π —Ä–µ–∂–∏–º:**
   - –û–±–µ—Ä—ñ—Ç—å —Ä—è–¥–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü—ñ
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"üîç –ó–Ω–∞–π—Ç–∏ (Enter)"** –∞–±–æ –ø—Ä–æ—Å—Ç–æ **Enter**
   - –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ—à—É–∫—É –≤ –ø—Ä–∞–≤—ñ–π –ø–∞–Ω–µ–ª—ñ
   - –û–±–µ—Ä—ñ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–¥–≤—ñ–π–Ω–∏–º –∫–ª—ñ–∫–æ–º –ê–ë–û
   - –í–≤–µ–¥—ñ—Ç—å –¥–∞–Ω—ñ –≤—Ä—É—á–Ω—É –≤ —Ñ–æ—Ä–º—ñ "–ü—ñ–¥–±—ñ—Ä –∞–¥—Ä–µ—Å–∏" –∑ –∞–≤—Ç–æ–∫–æ–º–ø–ª—ñ—Ç–æ–º
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Enter** –¥–ª—è –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è

#### 4Ô∏è‚É£ **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤**
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"üíæ –ó–±–µ—Ä–µ–≥—Ç–∏"**
   - –°—Ç–∞—Ä—ñ —ñ–Ω–¥–µ–∫—Å–∏ –ù–ï –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ —Ñ–∞–π–ª (—Ç—ñ–ª—å–∫–∏ –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è)
   - –ó–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ —Å—Ç–æ–≤–ø—Ü—ñ –∑ –æ–Ω–æ–≤–ª–µ–Ω–∏–º–∏ —ñ–Ω–¥–µ–∫—Å–∞–º–∏

---

## üé® –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ì–æ–ª–æ–≤–Ω–µ –≤—ñ–∫–Ω–æ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ —Ç—Ä—å–æ—Ö –ø–∞–Ω–µ–ª–µ–π:

#### üìä **–õ—ñ–≤–∞ –ø–∞–Ω–µ–ª—å - –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö**
- –¢–∞–±–ª–∏—Ü—è –∑ –∞–¥—Ä–µ—Å–∞–º–∏
- –ö–æ–ª—å–æ—Ä–æ–≤–µ –º–∞—Ä–∫—É–≤–∞–Ω–Ω—è –æ–±—Ä–æ–±–ª–µ–Ω–∏—Ö —Ä—è–¥–∫—ñ–≤
- –§—ñ–ª—å—Ç—Ä—É–≤–∞–Ω–Ω—è: –í—Å—ñ / –û–±—Ä–æ–±–ª–µ–Ω—ñ / –ù–µ–æ–±—Ä–æ–±–ª–µ–Ω—ñ
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–∞—Ä–æ–≥–æ —ñ–Ω–¥–µ–∫—Å—É –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è

#### üìã **–ü—Ä–∞–≤–∞ –≤–µ—Ä—Ö–Ω—è –ø–∞–Ω–µ–ª—å - –ü—ñ–¥–±—ñ—Ä –∞–¥—Ä–µ—Å–∏**
- –§–æ—Ä–º–∞ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤–≤–µ–¥–µ–Ω–Ω—è –∞–¥—Ä–µ—Å–∏
- –†–æ–∑—É–º–Ω–∏–π –∞–≤—Ç–æ–∫–æ–º–ø–ª—ñ—Ç –¥–ª—è –º—ñ—Å—Ç —ñ –≤—É–ª–∏—Ü—å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –æ–±–ª–∞—Å—Ç—ñ –ø—Ä–∏ –≤–∏–±–æ—Ä—ñ –º—ñ—Å—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø—ñ–¥–±—ñ—Ä —ñ–Ω–¥–µ–∫—Å—É –ø—Ä–∏ –≤–∏–±–æ—Ä—ñ –≤—É–ª–∏—Ü—ñ
- –í–∏–ø–∞–¥–∞—à–∫–∞ –¥–ª—è –≤–∏–±–æ—Ä—É –±—É–¥–∏–Ω–∫—ñ–≤ (—è–∫—â–æ —î –∫—ñ–ª—å–∫–∞ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤)
- –ù–∞—Ç–∏—Å–∫–∞–Ω–Ω—è Enter –≤ –±—É–¥—å-—è–∫–æ–º—É –ø–æ–ª—ñ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î —ñ–Ω–¥–µ–∫—Å

#### üìù **–ü—Ä–∞–≤–∞ –Ω–∏–∂–Ω—è –ø–∞–Ω–µ–ª—å - –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ—à—É–∫—É**
- –°–ø–∏—Å–æ–∫ –∑–Ω–∞–π–¥–µ–Ω–∏—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –∑ —Ç–æ—á–Ω—ñ—Å—Ç—é
- –ö–æ–ª—å–æ—Ä–æ–≤–µ –º–∞—Ä–∫—É–≤–∞–Ω–Ω—è –∑–∞ —Ä—ñ–≤–Ω–µ–º –≤–ø–µ–≤–Ω–µ–Ω–æ—Å—Ç—ñ
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É –±—É–¥–∏–Ω–∫—ñ–≤
- –ü—Ä–∏–º—ñ—Ç–∫–∏ –ø—Ä–æ —Ä–æ–±–æ—Ç—É –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è (–í–ü–ó, —Ç–∏–º—á–∞—Å–æ–≤–æ –Ω–µ –ø—Ä–∞—Ü—é—î)
- –ü–æ–¥–≤—ñ–π–Ω–∏–π –∫–ª—ñ–∫ –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è

### –ö–æ–ª—å–æ—Ä–æ–≤–µ –º–∞—Ä–∫—É–≤–∞–Ω–Ω—è —Ç–æ—á–Ω–æ—Å—Ç—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

- üü¢ **90-100%** - –í—ñ–¥–º—ñ–Ω–Ω–µ —Å–ø—ñ–≤–ø–∞–¥—ñ–Ω–Ω—è (—Å–≤—ñ—Ç–ª–æ-–∑–µ–ª–µ–Ω–∏–π)
- üü° **80-89%** - –î–æ–±—Ä–µ —Å–ø—ñ–≤–ø–∞–¥—ñ–Ω–Ω—è (—Å–≤—ñ—Ç–ª–æ-–∂–æ–≤—Ç–∏–π)
- üü† **70-79%** - –ó–∞–¥–æ–≤—ñ–ª—å–Ω–µ —Å–ø—ñ–≤–ø–∞–¥—ñ–Ω–Ω—è (—Å–≤—ñ—Ç–ª–æ-–ø–æ–º–∞—Ä–∞–Ω—á–µ–≤–∏–π)
- üî¥ **<70%** - –ù–∏–∑—å–∫–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å (—Å–≤—ñ—Ç–ª–æ-—á–µ—Ä–≤–æ–Ω–∏–π)

---

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

–§–∞–π–ª `config.py` –º—ñ—Å—Ç–∏—Ç—å –≤—Å—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏:

–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –ø–æ—à—É–∫—É
MAX_SEARCH_RESULTS = 20 # –ú–∞–∫—Å–∏–º—É–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —É —Å–ø–∏—Å–∫—É
MAX_CANDIDATES = 5000 # –ú–∞–∫—Å–∏–º—É–º –∫–∞–Ω–¥–∏–¥–∞—Ç—ñ–≤ –¥–ª—è –æ–±—Ä–æ–±–∫–∏
SIMILARITY_THRESHOLD = 0.5 # –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –ø–æ—Ä—ñ–≥ —Å—Ö–æ–∂–æ—Å—Ç—ñ (50%)

–í–∞–≥–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –æ—Ü—ñ–Ω–∫–∏ —Ç–æ—á–Ω–æ—Å—Ç—ñ
WEIGHT_CITY = 0.40 # –ú—ñ—Å—Ç–æ - 40%
WEIGHT_STREET = 0.35 # –í—É–ª–∏—Ü—è - 35%
WEIGHT_BUILDING = 0.15 # –ë—É–¥–∏–Ω–æ–∫ - 15%
WEIGHT_REGION = 0.10 # –û–±–ª–∞—Å—Ç—å - 10%

–ö–æ–ª—å–æ—Ä–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
COLOR_PROCESSED = "#C8E6C9" # –ó–µ–ª–µ–Ω–∏–π –¥–ª—è –æ–±—Ä–æ–±–ª–µ–Ω–∏—Ö
COLOR_HIGH_CONF = "#C8E6C9" # 90-100%
COLOR_MED_CONF = "#FFF9C4" # 80-89%
COLOR_LOW_CONF = "#FFE0B2" # 70-79%
COLOR_VLOW_CONF = "#FFCDD2" # <70%

text

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

postal-index-matcher/
‚îú‚îÄ‚îÄ cache/
‚îÇ ‚îî‚îÄ‚îÄ normalized_magistral.pkl # –ö–µ—à –Ω–æ—Ä–º–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö (auto-generated)
‚îú‚îÄ‚îÄ column_mappings/
‚îÇ ‚îú‚îÄ‚îÄ _last.json # –û—Å—Ç–∞–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ —Å—Ö–µ–º–∞
‚îÇ ‚îî‚îÄ‚îÄ *.json # –ó–±–µ—Ä–µ–∂–µ–Ω—ñ —Å—Ö–µ–º–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ data/
‚îÇ ‚îî‚îÄ‚îÄ magistral.csv # –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –£–∫—Ä–ø–æ—à—Ç–∏ (REQUIRED!)
‚îú‚îÄ‚îÄ handlers/
‚îÇ ‚îú‚îÄ‚îÄ excel_handler.py # –†–æ–±–æ—Ç–∞ –∑ Excel —Ñ–∞–π–ª–∞–º–∏
‚îÇ ‚îî‚îÄ‚îÄ column_mapping_handler.py # –°—Ö–µ–º–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç–µ–π —Å—Ç–æ–≤–ø—Ü—ñ–≤
‚îú‚îÄ‚îÄ logs/
‚îÇ ‚îú‚îÄ‚îÄ app.log # –ó–∞–≥–∞–ª—å–Ω–∏–π –ª–æ–≥ –ø—Ä–æ–≥—Ä–∞–º–∏
‚îÇ ‚îî‚îÄ‚îÄ search_queries.jsonl # –Ü—Å—Ç–æ—Ä—ñ—è –ø–æ—à—É–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ —É —Ñ–æ—Ä–º–∞—Ç—ñ JSONL
‚îú‚îÄ‚îÄ models/
‚îÇ ‚îú‚îÄ‚îÄ address.py # –ú–æ–¥–µ–ª—å –∞–¥—Ä–µ—Å–∏
‚îÇ ‚îî‚îÄ‚îÄ magistral_record.py # –ú–æ–¥–µ–ª—å –∑–∞–ø–∏—Å—É –∑ magistral
‚îú‚îÄ‚îÄ search/
‚îÇ ‚îú‚îÄ‚îÄ hybrid_search.py # –ì—ñ–±—Ä–∏–¥–Ω–∏–π –ø–æ—à—É–∫ –∑ –≤–∞–≥–æ–≤–æ—é —Å–∏—Å—Ç–µ–º–æ—é
‚îÇ ‚îú‚îÄ‚îÄ similarity.py # –ê–ª–≥–æ—Ä–∏—Ç–º–∏ —Å—Ö–æ–∂–æ—Å—Ç—ñ (Jaro-Winkler)
‚îÇ ‚îú‚îÄ‚îÄ normalizer.py # –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–µ–∫—Å—Ç—É –∞–¥—Ä–µ—Å
‚îÇ ‚îî‚îÄ‚îÄ magistral_loader.py # –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—è magistral
‚îú‚îÄ‚îÄ ui/
‚îÇ ‚îú‚îÄ‚îÄ main_window.py # –ì–æ–ª–æ–≤–Ω–µ –≤—ñ–∫–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–∏
‚îÇ ‚îî‚îÄ‚îÄ widgets/ # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
‚îÇ ‚îú‚îÄ‚îÄ address_selector_panel.py # –§–æ—Ä–º–∞ –ø—ñ–¥–±–æ—Ä—É –∞–¥—Ä–µ—Å–∏
‚îÇ ‚îú‚îÄ‚îÄ results_panel.py # –ü–∞–Ω–µ–ª—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
‚îÇ ‚îú‚îÄ‚îÄ column_mapping_dialog.py # –î—ñ–∞–ª–æ–≥ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å—Ç–æ–≤–ø—Ü—ñ–≤
‚îÇ ‚îî‚îÄ‚îÄ auto_processing_dialog.py # –î—ñ–∞–ª–æ–≥ –∞–≤—Ç–æ–æ–±—Ä–æ–±–∫–∏
‚îú‚îÄ‚îÄ utils/
‚îÇ ‚îú‚îÄ‚îÄ logger.py # –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è
‚îÇ ‚îú‚îÄ‚îÄ settings_manager.py # –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å (—Ä–æ–∑–º—ñ—Ä–∏ –≤—ñ–∫–Ω–∞, —Å—Ç–æ–≤–ø—Ü—ñ)
‚îÇ ‚îú‚îÄ‚îÄ cache_manager.py # –ö–µ—Ä—É–≤–∞–Ω–Ω—è –∫–µ—à–µ–º
‚îÇ ‚îú‚îÄ‚îÄ text_normalizer.py # –î–æ–ø–æ–º—ñ–∂–Ω–∞ –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–µ–∫—Å—Ç—É
‚îÇ ‚îî‚îÄ‚îÄ undo_manager.py # Undo/Redo —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª
‚îú‚îÄ‚îÄ .gitignore # Git ignore rules
‚îú‚îÄ‚îÄ config.py # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Å–∏—Å—Ç–µ–º–∏
‚îú‚îÄ‚îÄ main.py # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É –≤ –ø—Ä–æ–≥—Ä–∞–º—É
‚îú‚îÄ‚îÄ requirements.txt # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ settings.json # –õ–æ–∫–∞–ª—å–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (–Ω–µ –≤ Git)
‚îî‚îÄ‚îÄ README.md # –¶—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

text

### üóÇÔ∏è –í–∞–∂–ª–∏–≤—ñ –ø–∞–ø–∫–∏

–ü–µ—Ä–µ–¥ –ø–µ—Ä—à–∏–º –∑–∞–ø—É—Å–∫–æ–º —Å—Ç–≤–æ—Ä—ñ—Ç—å –ø–æ—Ä–æ–∂–Ω—ñ –ø–∞–ø–∫–∏:

mkdir -p data logs cache column_mappings
touch data/.gitkeep logs/.gitkeep cache/.gitkeep column_mappings/.gitkeep

text

---

## üîß –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ—à—É–∫—É

–ü—Ä–æ–≥—Ä–∞–º–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **–≥—ñ–±—Ä–∏–¥–Ω—É –≤–∞–≥–æ–≤—É —Å–∏—Å—Ç–µ–º—É** –¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É —Ç–æ—á–Ω–æ—Å—Ç—ñ:

### –ö—Ä–∏—Ç–µ—Ä—ñ—ó –æ—Ü—ñ–Ω–∫–∏:

1. **–ú—ñ—Å—Ç–æ (40%)** - –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏–π –∫—Ä–∏—Ç–µ—Ä—ñ–π
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Jaro-Winkler similarity
   - –ñ–æ—Ä—Å—Ç–∫–∏–π —Ñ—ñ–ª—å—Ç—Ä: —è–∫—â–æ <70% - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ñ–¥–∫–∏–¥–∞—î—Ç—å—Å—è

2. **–í—É–ª–∏—Ü—è (35%)** - –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é —á–∞—Å—Ç–∫–æ–≤–∏—Ö —Å–ø—ñ–≤–ø–∞–¥—ñ–Ω—å
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø—Ä–µ—Ñ—ñ–∫—Å—ñ–≤ (–≤—É–ª., –ø—Ä–æ–≤—É–ª., –±—É–ª—å–≤.)
   - Jaro-Winkler similarity –¥–ª—è –Ω–∞–∑–≤

3. **–ë—É–¥–∏–Ω–æ–∫ (15%)** - —Ç–æ—á–Ω–µ —Å–ø—ñ–≤–ø–∞–¥—ñ–Ω–Ω—è –Ω–æ–º–µ—Ä–∞
   - –ü–æ—à—É–∫ –Ω–æ–º–µ—Ä–∞ –≤ —Å–ø–∏—Å–∫—É –±—É–¥–∏–Ω–∫—ñ–≤
   - –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –ª—ñ—Ç–µ—Ä (27–ê, 27–ë)
   - –ß–∞—Å—Ç–∫–æ–≤–µ —Å–ø—ñ–≤–ø–∞–¥—ñ–Ω–Ω—è (+10% –∑–∞–º—ñ—Å—Ç—å +15%)

4. **–û–±–ª–∞—Å—Ç—å (10%)** - –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π –∫—Ä–∏—Ç–µ—Ä—ñ–π

### –ë–æ–Ω—É—Å–∏:

- **+5%** –∑–∞ —Ç–æ—á–Ω–µ —Å–ø—ñ–≤–ø–∞–¥—ñ–Ω–Ω—è –≤—Å—ñ—Ö —Ç—Ä—å–æ—Ö –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–æ–ª—ñ–≤ (–º—ñ—Å—Ç–æ + –≤—É–ª–∏—Ü—è + –±—É–¥–∏–Ω–æ–∫ –Ω–∞ 95%+)
- **+15%** –∑–∞ —Ç–æ—á–Ω–µ —Å–ø—ñ–≤–ø–∞–¥—ñ–Ω–Ω—è –Ω–æ–º–µ—Ä–∞ –±—É–¥–∏–Ω–∫—É

### –ü—Ä–∏–∫–ª–∞–¥ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É:

–ó–∞–ø–∏—Ç: –ö–∏—ó–≤, –≤—É–ª. –°–∞–≥–∞–π–¥–∞—á–Ω–æ–≥–æ –ü–µ—Ç—Ä–∞, 27
–ë–∞–∑–∞: –ö–∏—ó–≤, –≤—É–ª. –°–∞–≥–∞–π–¥–∞—á–Ω–æ–≥–æ –ü–µ—Ç—Ä–∞, 1-27–ê

‚úì –ú—ñ—Å—Ç–æ: 100% √ó 0.40 = 40%
‚úì –í—É–ª–∏—Ü—è: 100% √ó 0.35 = 35%
‚úì –ë—É–¥–∏–Ω–æ–∫: 100% √ó 0.15 = 15%
‚úì –û–±–ª–∞—Å—Ç—å: 100% √ó 0.10 = 10%
‚úì –ë–æ–Ω—É—Å: +5% (–≤—Å–µ —ñ–¥–µ–∞–ª—å–Ω–æ)

= 105% ‚Üí –æ–±–º–µ–∂–µ–Ω–æ –¥–æ 100%

text

---

## üìù –õ–æ–≥—É–≤–∞–Ω–Ω—è

### –¢–∏–ø–∏ –ª–æ–≥—ñ–≤:

#### `logs/app.log` - –ó–∞–≥–∞–ª—å–Ω–∏–π –ª–æ–≥ –ø—Ä–æ–≥—Ä–∞–º–∏
–ú—ñ—Å—Ç–∏—Ç—å –≤—Å—ñ –ø–æ–¥—ñ—ó: –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤, –ø–æ–º–∏–ª–∫–∏, –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

2025-10-23 14:30:15 - INFO - –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ 330,483 –∑–∞–ø–∏—Å—ñ–≤ –∑ magistral
2025-10-23 14:30:20 - INFO - –§–∞–π–ª –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ: database.xlsx (1250 —Ä—è–¥–∫—ñ–≤)

text

#### `logs/search_queries.jsonl` - –î–µ—Ç–∞–ª—å–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è –ø–æ—à—É–∫—É
–§–æ—Ä–º–∞—Ç: JSON Lines (–∫–æ–∂–µ–Ω —Ä—è–¥–æ–∫ = –æ–∫—Ä–µ–º–∏–π JSON –æ–±'—î–∫—Ç)

{
"timestamp": "2025-10-23T14:35:42",
"type": "search_request",
"address": {"city": "–ö–∏—ó–≤", "street": "–•—Ä–µ—â–∞—Ç–∏–∫", "building": "1"}
}
{
"timestamp": "2025-10-23T14:35:42",
"type": "search_results",
"query": {"city": "–ö–∏—ó–≤", "street": "–•—Ä–µ—â–∞—Ç–∏–∫", "building": "1"},
"results_count": 3,
"all_results": [...]
}

text

---

## üêõ –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–≥—Ä–∞–º–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è
–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–µ—Ä—Å—ñ—é Python
python --version # –ú–∞—î –±—É—Ç–∏ 3.8+

–ü–µ—Ä–µ–≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pip install -r requirements.txt --force-reinstall

text

### –ü–æ–º–∏–ª–∫–∞ "magistral.csv not found"
–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ magistral.csv –≤—ñ–¥ –£–∫—Ä–ø–æ—à—Ç–∏
–ü–æ–º—ñ—Å—Ç—ñ—Ç—å —Ñ–∞–π–ª —É –ø–∞–ø–∫—É data/
–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–¥—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—É (–º–∞—î –±—É—Ç–∏ cp1251)
text

### –ù–∏–∑—å–∫–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å –ø–æ—à—É–∫—É
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ —Å—Ç–æ–≤–ø—Ü—ñ–≤
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ –ø–æ–ª—è –º—ñ—Å—Ç—è—Ç—å –ø–æ–≤–Ω—ñ –∞–¥—Ä–µ—Å–∏ (–º—ñ—Å—Ç–æ + –≤—É–ª–∏—Ü—è)
- –î–ª—è –∫—Ä–∞—â–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –≤–∫–ª—é—á–∞–π—Ç–µ –Ω–æ–º–µ—Ä –±—É–¥–∏–Ω–∫—É

---

## ü§ù –í–Ω–µ—Å–æ–∫ —É –ø—Ä–æ–µ–∫—Ç

–í—ñ—Ç–∞—é—Ç—å—Å—è pull request'–∏! 

### –î–ª—è –≤–µ–ª–∏–∫–∏—Ö –∑–º—ñ–Ω:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **issue** –¥–ª—è –æ–±–≥–æ–≤–æ—Ä–µ–Ω–Ω—è
2. Fork –ø—Ä–æ–µ–∫—Ç—É
3. –°—Ç–≤–æ—Ä—ñ—Ç—å feature branch (`git checkout -b feature/AmazingFeature`)
4. Commit –∑–º—ñ–Ω (`git commit -m 'Add some AmazingFeature'`)
5. Push –≤ branch (`git push origin feature/AmazingFeature`)
6. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Pull Request

---

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License - –¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ –≤ —Ñ–∞–π–ª—ñ [LICENSE](LICENSE)

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

**printto.ua** - –†–æ–∑—Ä–æ–±–∫–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –¥–ª—è –¥—Ä—É–∫–∞—Ä–Ω—ñ

---

## üôè –ü–æ–¥—è–∫–∏

- **–£–∫—Ä–ø–æ—à—Ç–∞** –∑–∞ –Ω–∞–¥–∞–Ω–Ω—è –±–∞–∑–∏ magistral
- **Python Community** –∑–∞ —á—É–¥–æ–≤—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏
- **PyQt5** –∑–∞ –ø–æ—Ç—É–∂–Ω–∏–π GUI framework

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç–∏

- üåê Website: [https://printto.ua](https://printto.ua)
- üìß Email: info@printto.ua
- üíº GitHub: [yourusername](https://github.com/yourusername)

---

## üîÆ Roadmap

- [ ] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –ø–∞–∫–µ—Ç–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏ (–±–∞–≥–∞—Ç–æ —Ñ–∞–π–ª—ñ–≤)
- [ ] –ï–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ Excel
- [ ] –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ API –£–∫—Ä–ø–æ—à—Ç–∏
- [ ] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —ñ–Ω—à–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤ (CSV, JSON)
- [ ] –ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (EN, UA, RU)

---

**‚≠ê –Ø–∫—â–æ –ø—Ä–æ–µ–∫—Ç –∫–æ—Ä–∏—Å–Ω–∏–π - –ø–æ—Å—Ç–∞–≤—Ç–µ –∑—ñ—Ä–∫—É –Ω–∞ GitHub!**

---

**–í–µ—Ä—Å—ñ—è:** 2.0  
**–î–∞—Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** –ñ–æ–≤—Ç–µ–Ω—å 2025  
**Python:** 3.8+  
**–õ—ñ—Ü–µ–Ω–∑—ñ—è:** MIT